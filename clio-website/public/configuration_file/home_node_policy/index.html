<!DOCTYPE html>
<html lang="en-us" dir="ltr">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.123.7">
    <meta name="generator" content="Relearn 5.25.0+tip">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Home node policy :: CLIO">
    <meta name="twitter:description" content="">
    <meta property="og:title" content="Home node policy :: CLIO">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://localhost:1313/configuration_file/home_node_policy/index.html">
    <meta property="og:site_name" content="CLIO">
    <title>Home node policy :: CLIO</title>
    <link href="/configuration_file/home_node_policy/index.xml" rel="alternate" type="application/rss+xml" title="Home node policy :: CLIO">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="/css/fontawesome-all.min.css?1709407341" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1709407341" rel="stylesheet"></noscript>
    <link href="/css/nucleus.css?1709407341" rel="stylesheet">
    <link href="/css/auto-complete.css?1709407341" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1709407341" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1709407341" rel="stylesheet">
    <link href="/css/fonts.css?1709407341" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fonts.css?1709407341" rel="stylesheet"></noscript>
    <link href="/css/theme.css?1709407341" rel="stylesheet">
    <link href="/css/theme-auto.css?1709407341" rel="stylesheet" id="R-variant-style">
    <link href="/css/chroma-auto.css?1709407341" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/css/variant.css?1709407341" rel="stylesheet">
    <link href="/css/print.css?1709407341" rel="stylesheet" media="print">
    <link href="/css/ie.css?1709407341" rel="stylesheet">
    <script src="/js/url.js?1709407341"></script>
    <script src="/js/variant.js?1709407341"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      var root_url="/";
      var baseUri=root_url.replace(/\/$/, '');
      window.relearn = window.relearn || {};
      window.relearn.baseUriFull='http:\/\/localhost:1313/';
      // variant stuff
      window.relearn.themeVariantModifier='';
      window.variants && variants.init( [ 'auto' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
  </head>
  <body class="mobile-support html" data-url="/configuration_file/home_node_policy/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper"><nav class="TableOfContents">
  <ul>
    <li><a href="#wildcards-ambiguities">Wildcards ambiguities</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/index.html"><span itemprop="name">CLIO: Coordination Language for IO</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/configuration_file/index.html"><span itemprop="name">V1 configuration file</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Home node policy</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/configuration_file/exclude/index.html" title="Exclude (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/configuration_file/alias/index.html" title="Alias (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>
<h1 id="home-node-policy">Home node policy</h1>

<p>This section allows the CLIO user to selectively choose the CLIO server node where all files (or a subset of them) and their associated metadata should be stored. The user can define different policies for different files. In the current version of the CLIO language,  the home node policy options are:</p>
<ul>
<li><code>create</code> (default option)</li>
<li><code>manual</code></li>
<li><code>hashing</code></li>
</ul>
<p>These three keywords are optional, i.e., the user can avoid setting them explicitly in the CLIO configuration file. In this latter case, the default policy adopted by the CLIO middleware for the file-to-node mapping is <code>create</code>.</p>
<blockquote>
<p>[!WARNING]
There cannot be filename overlap among the policies specified (i.e., the intersection of the set defined by the different home-node policies must be empty).</p>
</blockquote>
<p>For the <code>hashing</code> and the <code>create</code> policies, the value is an array of files.</p>
<p>For the <code>manual</code> configuration, the syntax is more verbose and requires defining, for each file or set of files, the logical identifier of the application process whose associated CLIO server (i.e., the server process running on the same node where the application process is running) will store the file. With this information, each CLIO server may statically know the file-to-node mapping and thus retrieve the node where this process is executing at runtime.</p>
<h2 id="wildcards-ambiguities">Wildcards ambiguities</h2>
<p>The CLIO language syntax leverages wildcards to provide the user with flexibility and reduce the burden of enumerating all files and directories.</p>
<p>Using wildcards in the language syntax can introduce unexpected behavior due to unintended matches or undefined behavior due to multiple matches associated with different semantics rules. To clarify the point, let us consider the following example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;my_workflow&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;IO_Graph&#34;</span>: [
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;writer&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;output_stream&#34;</span>: [<span style="color:#e6db74">&#34;file1.txt&#34;</span>, <span style="color:#e6db74">&#34;file2.txt&#34;</span>, <span style="color:#e6db74">&#34;file1.dat&#34;</span>, <span style="color:#e6db74">&#34;file2.dat&#34;</span>],
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;streaming&#34;</span>: [
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;name&#34;</span>: [ <span style="color:#e6db74">&#34;file*&#34;</span> ],
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;committed&#34;</span>: <span style="color:#e6db74">&#34;on_close&#34;</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;name&#34;</span>: [ <span style="color:#e6db74">&#34;*.dat&#34;</span> ],
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;committed&#34;</span>: <span style="color:#e6db74">&#34;on_termination&#34;</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>In the example, there is an overlapping match for the files <code>file1.dat</code> and <code>file2.dat</code>. For those files, it is ambiguous if the commit semantics should be <code>on_close</code> or <code>on_termination</code>.</p>
<p>Even if, in most cases, the ambiguity can be eliminated considering the most specific match for the rules that must be used (for example, <code>*.dat</code> is more specific than <code>file*</code> if we consider the context, i.e., <code>output_stream</code> list of files specified by the user), in the current version of CLIO, all ambiguities are not solved, and an undefined behavior exception is raised by the CLIO implementation.</p>
<blockquote>
<p>[!NOTE]
In future releases, we will increase flexibility by relaxing such constraints and automatically disambiguating the syntax expression when possible.</p>
</blockquote>
<p>It is worth mentioning that, other than carefully using wildcards, proper use of the <code>aliases</code> section can help the user write a non-ambiguous and clean configuration file. An example is shown below:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;my_workflow&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;aliases&#34;</span> : [
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;group_name&#34;</span> : <span style="color:#e6db74">&#34;group-dat&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;files&#34;</span> : [<span style="color:#e6db74">&#34;file1.dat&#34;</span>, <span style="color:#e6db74">&#34;file2.dat&#34;</span>]
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;group_name&#34;</span> : <span style="color:#e6db74">&#34;group-txt&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;files&#34;</span> : [<span style="color:#e6db74">&#34;file1.txt&#34;</span>, <span style="color:#e6db74">&#34;file2.txt&#34;</span>]
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;IO_Graph&#34;</span>: [
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;writer&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;output_stream&#34;</span>: [<span style="color:#e6db74">&#34;group-dat&#34;</span>, <span style="color:#e6db74">&#34;group-txt&#34;</span>],
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;streaming&#34;</span>: [
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;name&#34;</span>: [<span style="color:#e6db74">&#34;group-txt&#34;</span>],
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;committed&#34;</span>: <span style="color:#e6db74">&#34;on_close&#34;</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;name&#34;</span>: [<span style="color:#e6db74">&#34;group-dat&#34;</span>],
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;committed&#34;</span>: <span style="color:#e6db74">&#34;on_termination&#34;</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
            <footer class="footline">
            </footer>
          </article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">

<h4>CLIO</h4> 
Coordination Language for IO
        </div>
        <div class="searchbox default-animation">
          <i class="fas fa-search" title="Search (CTRL+ALT+f)"></i>
          <label class="a11y-only" for="R-search-by">Search</label>
          <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
          <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
        </div>
        <script>
          var contentLangs=['en'];
        </script>
        <script src="/js/auto-complete.js?1709407341" defer></script>
        <script src="/js/lunr/lunr.min.js?1709407341" defer></script>
        <script src="/js/lunr/lunr.stemmer.support.min.js?1709407341" defer></script>
        <script src="/js/lunr/lunr.multi.min.js?1709407341" defer></script>
        <script src="/js/lunr/lunr.en.min.js?1709407341" defer></script>
        <script src="/js/search.js?1709407341" defer></script>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <ul>
          <li><a class="padding" href="/index.html"><i class="fas fa-home"></i> Home</a></li>
        </ul>
        <hr class="padding">
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div id="R-topics">
          <ul class="enlarge morespace collapsible-menu">
          <li data-nav-id="/semantics/index.html" class=""><a class="padding" href="/semantics/index.html">Semantics</a></li>
          <li data-nav-id="/configuration_file/index.html" class="parent "><a class="padding" href="/configuration_file/index.html">V1 configuration file</a><ul id="R-subsections-2df642e3f9303e80580fa02bd5e2a52e" class="morespace collapsible-menu">
          <li data-nav-id="/configuration_file/workflow_name/index.html" class=""><a class="padding" href="/configuration_file/workflow_name/index.html">Workflow name</a></li>
          <li data-nav-id="/configuration_file/io_graph/index.html" class=""><a class="padding" href="/configuration_file/io_graph/index.html">I/O Graph</a></li>
          <li data-nav-id="/configuration_file/permanent/index.html" class=""><a class="padding" href="/configuration_file/permanent/index.html">Permanent</a></li>
          <li data-nav-id="/configuration_file/exclude/index.html" class=""><a class="padding" href="/configuration_file/exclude/index.html">Exclude</a></li>
          <li data-nav-id="/configuration_file/home_node_policy/index.html" class="active"><a class="padding" href="/configuration_file/home_node_policy/index.html">Home node policy</a></li>
          <li data-nav-id="/configuration_file/alias/index.html" class=""><a class="padding" href="/configuration_file/alias/index.html">Alias</a></li></ul></li>
          <li data-nav-id="/examples/index.html" class=""><a class="padding" href="/examples/index.html">Examples</a></li>
          </ul>
        </div>
        <div id="R-shortcuts">
          <div class="nav-title padding">More</div>
          <ul class="space">
            <li><a class="padding" href="https://github.com/High-Performance-IO/clio"><i class='fab fa-fw fa-github'></i> CLIO on github</a></li>
            <li><a class="padding" href="https://github.com/High-Performance-IO/capio"><i class='fab fa-fw fa-github'></i> CAPIO</a></li>
          </ul>
        </div>
        <div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"></div>
        <div id="R-menu-footer">
          <hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter">
          <div id="R-prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks">
            <ul>
              <li id="R-select-language-container" class="footerLangSwitch">
                <div class="padding menu-control">
                  <i class="fas fa-language fa-fw"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-language">Language</label>
                    <select id="R-select-language" onchange="location = baseUri + this.value;">
                      <option id="R-en" value="/configuration_file/home_node_policy/index.html" lang="en-us" selected></option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
              <li id="R-select-variant-container" class="footerVariantSwitch">
                <div class="padding menu-control">
                  <i class="fas fa-paint-brush fa-fw"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-variant">Theme</label>
                    <select id="R-select-variant" onchange="window.variants && variants.changeVariant( this.value );">
                      <option id="R-auto" value="auto" selected>Auto</option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
                <script>window.variants && variants.markSelectedVariant();</script>
              </li>
              <li class="footerVisitedLinks">
                <div class="padding menu-control">
                  <i class="fas fa-history fa-fw"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <button onclick="clearHistory();">Clear History</button>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
            </ul>
          </div>
          <div id="R-footer" class="footerFooter showFooter">
	    <p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p>
          </div>
        </div>
      </div>
    </aside>
    <script src="/js/clipboard.min.js?1709407341" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1709407341" defer></script>
    <script src="/js/theme.js?1709407341" defer></script>
  </body>
</html>
